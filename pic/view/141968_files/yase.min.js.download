/*!
 * MZUI: standard - v1.0.1 - 2019-11-02
 * Copyright (c) 2019 cnezsoft.com; Licensed MIT
 */
function setHref(){$app&&$("a").map(function(e,t){const a=$(t).attr("href");"undefined"!=typeof a&&a.indexOf("xhttp")<0&&$(this).attr("href",a.replace("http","xhttp"))})}function openComment(){$("html,body").animate({scrollTop:$("#comment_box").offset().top},0),$(".tabs-head h4").eq(1).addClass("on").siblings().removeClass("on"),$(".tabs-content > div").eq(1).show().siblings().hide(),$("body").addClass("in-scroll").addClass("scroll-down").removeClass("scroll-up").removeClass("fixed-top")}function follow(e){if(followbtn=$(e.currentTarget),followbtn.attr("disabled",!0),followbtn.length>0){var t=followbtn.attr("data-type"),a=followbtn.attr("data-fid");followbtn.addClass("loading"),(followbtn.hasClass("red-pale")||followbtn.hasClass("gray")||followbtn.hasClass("light"))&&followbtn.addClass("loading-light"),$.post("/api/like/",{type:t,fid:a},function(e){if(followbtn.attr("disabled",!1),followbtn.removeClass("loading").removeClass("loading-light"),1===e.code){1===e.data.status?(app.Follow[t+"_"+a]=!0,99!=t&&app.Info.likenum++):(app.Follow[t+"_"+a]=!1,99!=t&&app.Info.likenum--);var n={};for(var i in app.Follow)n[i]=app.Follow[i];app.Follow=n}else e.code===-1?confirmModal(e.msg+"，登陆之后才可以"+(99==t?"关注":"点赞")+"<p>是否立即登陆？</p>",function(){showLogin()}):msg(e.msg,"red text-tint")})}}function closeModel(){$.Display.dismiss()}function showLogin(){html='<div class="white with-nav-top">\n        <form id="ajaxLoginForm" method="post" action="/api/user/login">\n            <h2 class="text-center">用户登陆</h2>\n            <div class="user-form space-sm">\n                <div class="container">\n                    <div class="form-item">\n                        <div class="inputdiv">\n                            <input type="text" name="username" placeholder="手机号/邮箱">\n                        </div>\n                    </div>\n                    <div class="form-item">\n                        <div class="inputdiv">\n                            <input type="password" autocomplete name="password" placeholder="请输入密码">\n                        </div>\n                    </div>\n                    <button type="submit" class="btn block circle danger btn-lg login-btn">提交</button>\n                    <div class="user-form-bottom-text">\n                        <a href="javascript:showRegister()">注册新用户</a>\n                        <a href="javascript:showForgotPw()">忘记密码</a>\n                    </div>\n                </div>\n            </div>\n            <div class="text-center" style="position: fixed; left:50%; margin-left: -1rem; bottom: 3rem;">\n                <a class="btn circle btn-lg user-close-icon" data-dismiss="display">\n                    <i class="iconfont iconplay_icon_close"></i>\n                </a>\n            </div>\n        </form>\n    </div>\n',closeModel();var e=new $.Display({display:"modal",content:html,targetClass:"fullscreen",animate:!1,shown:function(){$("#ajaxLoginForm").ajaxform({onSubmit:function(){$(".login-btn").attr("disabled",!0)},onResult:function(t){$(".login-btn").attr("disabled",!1),1===t.code?(e.hide(),"function"==typeof app.getPlayerDomain&&""===logintype?app.getPlayerDomain():"function"==typeof app.getComicContent?app.getComicContent():app.UserInfo={UserId:t.data.userinfo.Id,Name:t.data.userinfo.Name,Avatar:t.data.userinfo.Avatar,Coin:t.data.userinfo.Coin,Credit:t.data.userinfo.Credit,Messagenum:t.data.userinfo.Messagenum,Messagenum_Unread:t.data.userinfo.Messagenum_Unread,IsVip:t.data.userinfo.IsVip,VipEndtime:t.data.userinfo.IsVip?t.data.userinfo.VipEndtime:"",HistoryList:t.data.history_list,Qiandao_Lianxu:t.data.userinfo.Qiandao_Lianxu,QiandaoToday:today===t.data.userinfo.Qiandao_Lastdate},"downVideo"===logintype&&app.downVideo(),logintype="",msg("登陆成功！","success-pale text-tint")):0===t.code&&msg(t.msg,"danger-pale text-tint")}})}});e.show()}function showRegister(){closeModel(),html='<div class="white with-nav-top">\n        <form id="ajaxRegisterForm" method="post" action="/api/user/register">\n        <h2 class="text-center">注册新用户</h2>\n        <div class="user-form space-sm">\n            <div class="container">\n                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="username" placeholder="手机号/邮箱">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_Username"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="name" placeholder="请输入昵称">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_Name"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="password" placeholder="请输入密码">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_Password"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="confirm_password" placeholder="请再次输入密码">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_ConfirmPassword"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="vcode" type="text" size="6" maxlength="6" placeholder="请再次输入验证码">\n                        <button type="button" onclick="getSms();return false" class="btn circle danger load sendcode"> 验证码</button>\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip space-sm" style="display:none" id="UserRegisterRequest_Vcode"></div>                <button type="submit" class="btn block load circle danger btn-lg register-btn">提交</button>\n                <div class="user-form-bottom-text">\n                    <a href="javascript:showLogin()">已有账号登陆</a>\n                    <a href="javascript:showForgotPw()">忘记密码</a>\n                </div>\n            </div>\n        </div>\n        <div class="text-center" style="position: fixed; left:50%; margin-left: -1rem; bottom: 3rem;">\n            <a class="btn circle btn-lg user-close-icon" data-dismiss="display">\n                <i class="iconfont iconplay_icon_close"></i>\n            </a>\n        </div>\n        </form>\n    </div>';var e=new $.Display({display:"modal",backdropDismiss:!1,content:html,targetClass:"fullscreen",animate:!1,shown:function(){tncode.init(),$TN.onsuccess(function(){var e=$(".sendcode");e.addClass("loading").attr("disabled",!0),$.post("/vcode/send",{type:1,username:$("input[name='username']").val()},function(t){1===t.code?(settime(e[0]),e.removeClass("loading"),msg(t.msg,"green-pale text-tint")):(e.removeClass("loading").attr("disabled",!1),msg(t.msg,"red-pale text-tint"))},"json")}),$("#ajaxRegisterForm").ajaxform({onSubmit:function(){$(".register-btn").attr("disabled",!0),$(".form-tip").hide()},onResult:function(t){$(".register-btn").attr("disabled",!1),1!==t.code?handelAjaxErr(t):(e.hide(),"function"==typeof app.getPlayerDomain?app.getPlayerDomain():"function"==typeof app.getComicContent?app.getComicContent():app.UserInfo={UserId:t.data.userinfo.Id,Name:t.data.userinfo.Name,Avatar:t.data.userinfo.Avatar,Coin:t.data.userinfo.Coin,Credit:t.data.userinfo.Credit,Messagenum:t.data.userinfo.Messagenum,Messagenum_Unread:t.data.userinfo.Messagenum_Unread,IsVip:t.data.userinfo.IsVip,VipEndtime:t.data.userinfo.IsVip?t.data.userinfo.VipEndtime:"",HistoryList:t.data.history_list,Qiandao_Lianxu:t.data.userinfo.Qiandao_Lianxu,QiandaoToday:today===t.data.userinfo.Qiandao_Lastdate},msg("注册成功，已为您自动登陆！","success-pale text-tint"))}})}});e.show()}function showForgotPw(){closeModel(),html='<div class="white with-nav-top">\n        <form id="ajaxRegisterForm" method="post" action="/api/user/forgetpw">\n        <h2 class="text-center">重置密码</h2>\n        <div class="user-form space-sm">\n            <div class="container">\n                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="username" placeholder="手机号/邮箱">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_Username"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="password" placeholder="请输入密码">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_Password"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="confirm_password" placeholder="请再次输入密码">\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip" style="display:none" id="UserRegisterRequest_ConfirmPassword"></div>                <div class="form-item">\n                    <div class="inputdiv">\n                        <input name="vcode" type="text" size="6" maxlength="6" placeholder="请再次输入验证码">\n                        <button type="button" onclick="getSms();return false" class="btn circle danger load sendcode"> 验证码</button>\n                    </div>\n                </div>\n                <div class="form-item nopadding text-red small form-tip space-sm" style="display:none" id="UserRegisterRequest_Vcode"></div>                <button type="submit" class="btn block load circle danger btn-lg register-btn">提交</button>\n                <div class="user-form-bottom-text">\n                    <a href="javascript:showLogin()">已有账号登陆</a>\n                    <a href="javascript:showRegister()">注册账号</a>\n                </div>\n            </div>\n        </div>\n        <div class="text-center" style="position: fixed; left:50%; margin-left: -1rem; bottom: 3rem;">\n            <a class="btn circle btn-lg user-close-icon" data-dismiss="display">\n                <i class="iconfont iconplay_icon_close"></i>\n            </a>\n        </div>\n        </form>\n    </div>';var e=new $.Display({display:"modal",backdropDismiss:!1,content:html,targetClass:"fullscreen",animate:!1,shown:function(){tncode.init(),$TN.onsuccess(function(){var e=$(".sendcode");e.addClass("loading").attr("disabled",!0),$.post("/vcode/send",{type:3,username:$("input[name='username']").val()},function(t){1===t.code?(settime(e[0]),e.removeClass("loading"),msg(t.msg,"green-pale text-tint")):(e.removeClass("loading").attr("disabled",!1),msg(t.msg,"red-pale text-tint"))},"json")}),$("#ajaxRegisterForm").ajaxform({onSubmit:function(){$(".register-btn").attr("disabled",!0),$(".form-tip").hide()},onResult:function(t){$(".register-btn").attr("disabled",!1),1!==t.code?handelAjaxErr(t):(e.hide(),"function"==typeof app.getPlayerDomain?app.getPlayerDomain():"function"==typeof app.getComicContent?app.getComicContent():app.UserInfo={UserId:t.data.userinfo.Id,Name:t.data.userinfo.Name,Avatar:t.data.userinfo.Avatar,Coin:t.data.userinfo.Coin,Credit:t.data.userinfo.Credit,Messagenum:t.data.userinfo.Messagenum,Messagenum_Unread:t.data.userinfo.Messagenum_Unread,IsVip:t.data.userinfo.IsVip,VipEndtime:t.data.userinfo.IsVip?t.data.userinfo.VipEndtime:"",HistoryList:t.data.history_list,Qiandao_Lianxu:t.data.userinfo.Qiandao_Lianxu,QiandaoToday:today===t.data.userinfo.Qiandao_Lastdate},msg("修改成功，已为您自动登陆！","success-pale text-tint"))}})}});e.show()}function getSms(){var e=$("input[name='username']").val();checkMobile(e)||checkEmail(e)?tncode.show():msg("请输入正确的手机号或者邮箱作为用户名","red-pale text-tint")}function settime(e){return 0===countdown?(e.removeAttribute("disabled"),$(e).html("重新发送"),void(countdown=60)):(e.setAttribute("disabled",!0),$(e).html("重发("+countdown+")"),countdown--,void(counttime=setTimeout(function(){settime(e)},1e3)))}function showCreditTip(){closeModel();var e=new $.Display({display:"modal",backdropDismiss:!1,remote:"/ajax/user/credit_tip",targetClass:"radius autowidth",animate:!1});e.show()}function checkMobile(e){var t=!1,a=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;return t=!!a.test(e)}function checkEmail(e){var t=!1,a=/^(?:[a-zA-Z0-9]+[_\-\+\.]?)*[a-zA-Z0-9]+@(?:([a-zA-Z0-9]+[_\-]?)*[a-zA-Z0-9]+\.)+([a-zA-Z]{2,})+$/;return t=!!a.test(e)}function confirmModal(e,t,a,n){var i=new $.Display({display:"modal"});i.show({targetClass:"radius autowidth",content:{msg:e},backdropDismiss:!1,source:!1,hidden:function(){"undefined"!=typeof n&&t()},autoHide:"undefined"!=typeof n&&1e3*n,animate:!1,template:'<div class="buy-model space-sm confirm-div">\n    <div class="buy-model-div">\n        <h3>亚色网提示</h3>\n        <div class="confirm-content">{msg}</div>\n        <div class="flex center-content">\n        <button class="btn danger load circle btn-lg btn-modal-success modal-success-btn">确定</button>'+("undefined"==typeof a?'<button class="btn gray circle btn-lg btn-modal-close">取消</button>':"")+"</div>\n    </div>\n</div>"},function(){$(".btn-modal-success").click(function(){modalShowLoading(),t()})})}function modalShowLoading(){$(".modal-success-btn").addClass("loading")}function modalHideLoading(){$(".modal-success-btn").removeClass("loading")}function msg(e,t,a,n){var i=new $.Display({display:"messager"});"undefined"==typeof a&&(a=function(){}),"undefined"==typeof n&&(n=5e3),console.log(a),i.show({content:e,type:t,autoHide:n,placement:"bottom-center",targetClass:"radius-messager autowidth",hidden:function(){a()}})}function disTouch(e){e.preventDefault()}function stopTouch(){document.body.addEventListener("touchmove",disTouch,{passive:!1})}function startTouch(){document.body.removeEventListener?document.body.removeEventListener("touchmove",disTouch,{passive:!1}):document.body.detachEvent("touchmove",disTouch,{passive:!1})}function setPicThumb(e){function t(e){if(a>=9)return $(".img-mozaiquehome").hide(),$(".thumb_img").remove(),void(vpicthumbtimes&&clearTimeout(vpicthumbtimes));var n=a%3,i=parseInt(a/3)>=3?0:parseInt(a/3),s=50*n,o=50*i;$(e).css({"background-position-x":s+"%","background-position-y":o+"%"},0),a++,a=a>9?1:a,vpicthumbtimes=setTimeout(function(){vpicthumbtimes&&t(e)},1e3)}var a=0;if($(e).find(".thumb_img").length<=0){a=0,vpicthumbtimes&&clearTimeout(vpicthumbtimes),$(".thumb_img").remove(),$(".thumb_a").remove();var n=$(e).find(".video-thumb-image").attr("data-picthumb"),i=$(e).find(".video-thumb-image").attr("data-href"),s=document.createElement("div"),o=document.createElement("img"),r=document.createElement("img"),l=document.createElement("a");$(s).addClass("thumb_img"),$(l).attr("href",i).addClass("thumb_a"),$(s).css({"background-image":"url('"+n+"?t="+ver+"')"}),$(e).append(l),$(r).addClass("loadimg").attr("src","/static/assets/images/loadingimg.gif?t="+ver).css({position:"absolute",width:30,height:30,left:"50%",top:"50%",marginLeft:-15,marginTop:-15}),$(o).addClass("temp_img").attr("src",n).css({width:0,height:0,overflow:"hidden",position:"absolute",opacity:0}).on("load",function(){$(".loadimg").remove(),$(".temp_img").remove(),$(e).append(s),t(s)}),$(e).append(o),$(e).append(r)}}function closeCropDiv(){$(".setavatar").hide()}function showLoading(){var e=new $.Display({display:"modal"});e.show({content:'<div class="text-red loading gray loading-div" style="width: 20px; height: 20px; background-color: transparent"></div>'})}function hideLoading(){closeModel()}function updatePreview(e){imgwidth=cropimg.width(),imgheight=cropimg.height(),avatar_x=e.x,avatar_y=e.y,avatar_rx=e.w,avatar_ry=e.h,avatar_w=imgwidth,avatar_h=imgheight,console.log(avatar_x,avatar_y,avatar_rx,avatar_ry,avatar_w,avatar_h)}function saveAvatar(e){return $(e).addClass("loading"),$.post(uploadurl+"cropAvatar",{file:avatar_file,x:avatar_x,y:avatar_y,rx:avatar_rx,ry:avatar_ry,w:avatar_w,h:avatar_h},function(t){$(e).removeClass("loading"),1===t.code&&($("img.user_avatar").attr("src",uploadurl+t.file),$.post("/api/user/saveavatar",{avatar:t.file},function(e){1===e.code?msg(e.msg,"success-pale text-tint"):msg(e.msg,"danger-pale text-tint")}),closeCropDiv())}),!1}function showProgress(){var e='<div class="circle-bar">\n        <div class="circle-bar-left"></div>\n        <div class="circle-bar-right"></div>\n        <!-- 遮罩层，显示百分比 -->\n        <div class="mask">\n            <span class="percent">0%</span>\n        </div>\n    </div>\n<span class="percent-text space">上传中</span><button type="button" onclick="cancelUpload()" class="btn dark circle">取消上传</button>',t=new $.Display({display:"modal"});t.show({content:e,targetClass:"progrecss-modal",backdropDismiss:!1,source:!1,animate:!1})}function setProgressNum(e){$(".mask :first-child").html(e+"%");var t=e,a=$(".circle-bar").css("background-color");t<=50?$(".circle-bar-right").css("transform","rotate("+3.6*t+"deg)"):($(".circle-bar-right").css({transform:"rotate(0deg)","background-color":a}),$(".circle-bar-left").css("transform","rotate("+3.6*(t-50)+"deg)"))}function postComment(e){pid=e.CommentReplay.Pid,$(".comment-submit-btn").addClass("loading").attr("disabled",!0);var t=$("#commentForm").serializeArray();e.CommentReplay={Pid:"",Puid:"",Pname:""},$.post("/api/comment/post",t,function(t){$(".comment-submit-btn").removeClass("loading").attr("disabled",!1),1===t.code?(e.CommentIng=!1,pid?e.CommentList.forEach(function(a,n){a.id===parseInt(t.data.pid)&&(e.CommentList[n].reply.list=[t.data].concat(e.CommentList[n].reply.list),e.CommentList[n].reply.total++)}):e.CommentList=[t.data].concat(e.CommentList),e.CommentNum++,e.CommentTotal++,e.Info.commentnum++,msg("发布成功","success-pale text-tint")):t.code===-1?confirmModal(t.msg+"，登陆之后才可以进行评论<p>是否立即登陆？</p>",function(){showLogin()}):msg(t.msg,"danger-pale text-tint")})}function getUserLike(){$.get("/api/like/",{type:app.Info.type,fid:app.Info.id,authorid:app.Info.authorid},function(e){app.UserLike=!0,1===e.code&&(app.Follow["99_"+app.Info.authorid]=e.data.follow,app.Follow[app.Info.type+"_"+app.Info.id]=e.data.like)})}function getFollow(){$.get("/api/like/follow",{fid:app.Info.id},function(e){app.UserLike=!0,1===e.code&&(app.Follow["99_"+app.Info.id]=e.data.follow)})}function commentOnBlur(e,t){setTimeout(function(){submitComment===!1&&(t.CommentIng=!1,t.CommentReplay={Pid:"",Puid:"",Pname:""})},500)}function delOrigin(e,t){switch(e){case 1:typeinfo="视频";break;case 2:typeinfo="自拍";break;case 3:typeinfo="小说";break;default:return}confirmModal("确定要删除该"+typeinfo+"吗？",function(){$.post("/api/user/del_origin",{type:e,id:t},function(a){if(modalHideLoading(),closeModel(),1===a.code){switch(e){case 1:$("#video-"+t).remove();break;case 2:$("#pic-"+t).remove();break;case 3:$("#novel-"+t).remove()}msg(a.msg,"success-pale text-tint")}else msg(a.msg,"danger-pale text-tint")})})}function handelAjaxErr(e){if("undefined"!=typeof e.msg&&msg(e.msg,"danger-pale text-tint"),"undefined"!=typeof e.field)for(key in e.field){var t=e.field[key];$("#"+key).html(t).show()}}function History(e){this.limit=20,this.key=e||"y_his",this.jsonData=null,this.cacheTime=24,this.path="/"}function delHistory(e,t){confirmModal("确定要删除该历史记录？",function(){$.post("/api/user/del_history",{type:e,fid:t},function(e){closeModel(),$("#history_"+t).remove()})})}window.CoreLib=window.jQuery||window.Zepto;var myDisplay,baseApi={user:"/api/user"},countdown=60,counttime=null,submitComment=!1,scroll_bar,bar_head,bar_height,sroll_header,video,video_progress_time,vpicthumbtimes,m3u8_url,poster_url,domain_str,peers=[];!function(e){"use strict";function t(){n=e(".top-banner").outerHeight(),e(".top-nav-div").height(n)}e.callEvent=function(t,a,n,i,s){var o,r=e.Event(t);return i&&(e(i).trigger(r,s),o=r.result),e.isFunction(a)&&(o=a.apply(n,e.isArray(s)?s:[s])),o},e.fn.callEvent=function(t,a,n){return e.callEvent(a,t.options?t.options[a]:null,t,this,n)},e.bindFn=function(t,a,n){var i=e.fn[t],s=a.NAME||"mzui."+t;e.fn[t]=function(t,i){return this.each(function(){var o=e(this),r=o.data(s),l="object"==typeof t&&t;n&&(l=e.extend(l,n)),r||o.data(s,r=new a(o,l)),"string"==typeof t&&r[t].apply(r,e.isArray(i)?i:[i])})},e.fn[t].Constructor=a,e.fn[t].noConflict=function(){return e.fn[t]=i,this}},e.formatDate=function(e,t){e instanceof Date||(e=new Date(e));var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"S+":e.getMilliseconds()};/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t},e.format=function(t,a){if(t instanceof Date)return e.formatDate(t,a);if(arguments.length>1){var n;if(2==arguments.length&&"object"==typeof a)for(var i in a)void 0!==a[i]&&(n=new RegExp("({"+i+"})","g"),t=t.replace(n,a[i]));else for(var s=1;s<arguments.length;s++)void 0!==arguments[s]&&(n=new RegExp("({["+(s-1)+"]})","g"),t=t.replace(n,arguments[s]))}return t},e.calValue=function(t,a,n){return e.isFunction(t)?t.apply(a,e.isArray(n)?n:[n]):t},e.is$=function(t){return window.jQuery===e?t instanceof jQuery:e.zepto.isZ(t)},e.isStr=function(e){return"string"==typeof e},e.isNum=function(e){return"number"==typeof e},e.TapName="ontouchstart"in document.documentElement?"touchstart":"click",e.uuid||(e.uuid=0),e(".child-nav-more-btn").click(function(){var a=e(this).hasClass("open");a?(e(this).html('收起 <i class="icon icon-angle-up"></i>').removeClass("open"),e(".child-nav").addClass("open"),e("body").addClass("child-nav-open")):(e(this).html('全部 <i class="icon icon-angle-down"></i>').addClass("open"),e(".child-nav").removeClass("open"),e("body").removeClass("child-nav-open")),t()}),e(".live-btn-shaixuan").click(function(t){var a=e(t.currentTarget),n=a.hasClass("this"),i=a.outerWidth(!0),s=a.offset().left;n?(a.removeClass("this"),e(".videos-filter-item").hide()):(a.addClass("this"),e(".videos-filter-item .videos-filter-item-dot").css("left",i/2+s),e(".videos-filter-item").show())});var a="up",n=0,i=0,s=0,o=0;e(function(){t(),e(".tabs-head").length>0&&(e(".tabs-head h4").click(function(){var t=e(this).index();e(this).addClass("on").siblings().removeClass("on"),e(".tabs-content > div").eq(t).show().siblings().hide(),o=t,0===t?e(".video-likes-comment").hasClass("tabs-head-fixed")&&(0===i?e("#scrollDiv").scrollTop(tabscontentTop):e("#scrollDiv").scrollTop(i)):(e(".video-likes-comment").hasClass("tabs-head-fixed")&&(0===s?e("#scrollDiv").scrollTop(tabscontentTop):e("#scrollDiv").scrollTop(s)),app.Getcomment===!1&&app.getCommentList())}),e("body").on("listenScroll",function(t,a,n){var r=e(".video-likes-comment").offset().top,l=e("body").scrollTop();r<=l?(e(".video-likes-comment").addClass("tabs-head-fixed"),0===o?i=l:s=l):e(".video-likes-comment").removeClass("tabs-head-fixed"),l>500?e(".right-menu-gotop-btn").css("opacity",1):e(".right-menu-gotop-btn").css("opacity",0)})),("undefined"!=typeof si1&&""!==si1&&e("#"+si1).length>0||"undefined"!=typeof si2&&""!==si2&&e("#"+si2).length>0||e("#player").length>0||e("#list_asiall").length>0||e("#fixedas").length>0)&&e.get("/api/aaaac/list",function(e){setAd(e)})}),e(window).on("listenScroll",function(t,i,s){s!==a?(a=s,t.currentTarget.scrollY<=n&&e("body").removeClass("fixed-top")):"up"===s?t.currentTarget.scrollY>n?e("body").addClass("fixed-top"):e("body").removeClass("fixed-top"):t.currentTarget.scrollY>n&&e("body").removeClass("fixed-top")}),e(".nav-list a").on("click",function(t){const a=e(".nav-list").scrollLeft();e.cookie("navLeft",a,{path:"/"})}),"string"==typeof e.cookie("navLeft")}(CoreLib),$(document).ready(function(){$(function(){if(setHref(),$("button").attr("disabled",!1),$(".video-list").length>0&&$.each($(".video-list"),function(e,t){$(t).hasClass("live-list")||$(t).find(".video-thumb").click(function(){setPicThumb($(this))})}),$(".fixed-head").length>0&&(scroll_bar=$("#scroll_bar"),bar_head=$("#bar_head"),bar_height=bar_head.height(),sroll_header=scroll_bar.clone().attr("id","bb").removeClass("fixed-head"),sroll_header.find("#bar_head").attr("id","bar_head2"),sroll_header.find("template").remove(),$(window).scroll(function(){var e=$("#shelter"),t=document.documentElement.scrollTop-scroll_bar.offset().top;t>0?(e.length<1&&$("body").append('<div id="shelter" class="container"></div>'),e.css({height:bar_height,position:"fixed",top:"0",overflow:"hidden",width:"100%",margin:"0 auto",left:"0",right:"0",background:"#f2f2f2"}),sroll_header.appendTo("#shelter"),sroll_header.find("th").each(function(e,t){var a=bar_head.find("th").eq(e).outerWidth();$(t).css("width",a)}),e.show()):e.hide()})),$(".video-player-div-desc").length>0){var e=$(".video-player-div-desc"),t=$(".desc-more"),a=$(".desc-hide"),n=e.height(),i=e.css("line-height");n>3*parseInt(i)&&(e.addClass("hide"),t.show(),$(".desc-more, .desc-hide").click(function(){e.hasClass("hide")?(a.show(),t.hide()):(a.hide(),t.show()),e.toggleClass("hide"),tabscontentTop=$(".video-likes-comment").offset().top-200}),tabscontentTop=$(".video-likes-comment").offset().top-200);var e=$(".video-player-div-desc"),t=$(".desc-more"),a=$(".desc-hide"),n=e.height(),i=e.css("line-height");n>3*parseInt(i)&&(e.addClass("hide"),t.show(),$(".desc-more, .desc-hide").click(function(){e.hasClass("hide")?(a.show(),t.hide()):(a.hide(),t.show()),e.toggleClass("hide"),tabscontentTop=$(".video-likes-comment").offset().top-200}),tabscontentTop=$(".video-likes-comment").offset().top-200)}if($(".novel-info-desc-text").length>0){var e=$(".novel-info-desc-text"),t=$(".desc-more"),a=$(".desc-hide"),n=e.height(),i=e.css("line-height");n>3*parseInt(i)&&(e.addClass("hide"),t.show(),$(".desc-more, .desc-hide").click(function(){e.hasClass("hide")?(a.show(),t.hide()):(a.hide(),t.show()),e.toggleClass("hide")}))}$(".novel-setting-fontsize-btn").length>0&&$(".novel-setting-fontsize-btn").click(function(){$("#novel-setting-fontsize").toggle()}),$(".novel-select-bgcolor").length>0&&$(".novel-select-bgcolor span").click(function(){$(this).addClass("on").siblings().removeClass("on");var e=$(this).attr("data-color");$("body").removeClass("white").removeClass("darkview").removeClass("warning-pale").removeClass("success-pale").removeClass("success-pale text-tint").addClass(e),$.cookie("novel_bg",e,{path:"/"}),$.cookie("darkview","",{path:"/"})}),$(".novel-set-night").length>0&&$(".novel-set-night").click(function(){$("body").toggleClass("darkview"),$("body").hasClass("darkview")?$.cookie("darkview","darkview",{path:"/"}):$.cookie("darkview","",{path:"/"})})})}),History.prototype={constructor:History,setCookie:function(e,t,a,n){n=n||{};var i=e+"="+encodeURIComponent(t);if(void 0!=a){var s=new Date;s.setTime(s.getTime()+3600*a*1e3),i=i+"; expires="+s.toUTCString()}var o=[n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("");document.cookie=i+o},getCookie:function(e){for(var t=document.cookie?document.cookie.split("; "):[],a="",n="",i=0;i<t.length;i++)if(n=t[i].split("="),n[0]=n[0].replace(" ",""),n[0]==e){a=decodeURIComponent(n[1]);break}return a.toString()},deleteCookie:function(e){this.setCookie(e,"",-1,{path:this.path})},initRow:function(e,t,a){return'{"title":"'+e+'", "link":"'+t+'", "other":"'+a+'"}'},parse2Json:function(jsonStr){var json=[];try{json=JSON.parse(jsonStr)}catch(e){json=eval(jsonStr)}return json},add:function(e,t,a){var n=this.getCookie(this.key);if(""!=n){this.jsonData=this.parse2Json(n);for(var i=0;i<this.jsonData.length;i++)if(t==this.jsonData[i].link)return!1;n="["+this.initRow(e,t,a)+",";for(var s=0;s<this.limit-1&&void 0!=this.jsonData[s];s++)n+=this.initRow(this.jsonData[s].title,this.jsonData[s].link,this.jsonData[s].other)+",";n=n.substring(0,n.lastIndexOf(",")),n+="]"}else n="["+this.initRow(e,t,a)+"]";this.jsonData=this.parse2Json(n),this.setCookie(this.key,n,this.cacheTime,{path:this.path})},getList:function(){if(null!=this.jsonData)return this.jsonData;var e=this.getCookie(this.key);return""!=e&&(this.jsonData=this.parse2Json(e)),this.jsonData},clearHistory:function(){this.deleteCookie(this.key),this.jsonData=null}},!function(e,t,a,n){"use strict";var i=1200,s="click",o="display",r="orginalClass",l="hidden",d="loading",c="body",u="."+o+".oneTarget",p="mzui."+o,m={left:"right",bottom:"top",top:"bottom",right:"left"},f=function(a,n){var s=this;e.isPlainObject(a)&&(n=a,a=null),n=e.extend({element:a},f.DEFAULT,a?a.data():null,n);var r=n.display;r&&f.plugs["_"+r]&&(n=e.calValue(f.plugs["_"+r],s,n));var l=n.selector;a||(n.trigger=null),n.name||(n.name=o+i++);var d=function(t){n.stopPropagation&&t.stopPropagation();var a=e(this),i=a.data()||{};if(i.element=this,a.is("a")){var o=a.data("url")||a.attr("href");o&&"#"!==o&&o.indexOf("##")<0&&(!n.target&&/^#[a-z]/i.test(o)?i.target=o:i.remote||(i.remote=o)),t&&n.preventDefault!==!1&&t.preventDefault()}s[n.triggerMethod](i)};if(n.trigger&&(l?a.on(n.trigger,l,d):a.on(n.trigger,d)),s.$=a,s.options=n,n.displayAuto!==t&&n.displayAuto!==!1)l&&a?a.find(l).each(d):s.show();else if(l&&a){var c=n.activeClass;a.find(l).filter("[data-display-auto]"+(c?",."+c:"")).each(d)}};f.prototype._getTarget=function(t){var a=this,n=e.calValue(t.target,a,t);if("!new"===n||n==="#"+o+"Target"){var i=o+"Target-"+t.name,s=o+"Layer-"+t.name;e("#"+i).remove(),n=e('<div class="'+o+" "+l+'"/>').attr({id:i});var d=e("#"+s);d.length||(d=e('<div class="'+o+'-layer"/>').attr({id:s}).appendTo(c)),t.layer=t.container=d.append(n)}else"!self"===n&&(n=t.element||a.$);return n=e(n).addClass(o).attr("data-"+o+"-name",t.name),n.parent().length||n.appendTo(t.container),n.data(r)||n.data(r,n.attr("class")),n},f.prototype.update=function(t,a,i,s){var r=this,l=function(n){var i=a.template;e.isFunction(i)?n=i(n,a):e.isStr(i)&&(n=e.format(i,n)),n!==!1&&(e.is$(n)?t.empty().append(n):t["text"===a.contentType?"text":"html"](n))},u=e.calValue(a.remote,r,a);if(u){var p=e.uuid++,m=a.loadingClass;t.removeClass(a.showInClass).addClass(m),e(c).addClass("has-"+o+"-"+d),a.$backdrop&&a.$backdrop.addClass(m);var f=e.isStr(u)?{url:u}:u;r.xhr&&r.xhr.abort(),r.remoteCall=p,r.xhr=e.ajax(e.extend({dataType:a.remoteType||"html",error:a.remoteError},f,{success:function(e,t,a){l(e),f.success&&f.success(e,t,a)},complete:function(i,l){r.xhr=0,r.remoteCall===p&&(r.lastRemote!==u&&(e(a.container).scrollTop(0),r.lastRemote=u),t.removeClass(m).addClass(a.showInClass),e(c).removeClass("has-"+o+"-"+d),a.$backdrop&&a.$backdrop.removeClass(m),e.callEvent("loaded",a.loaded,r,r.$,a),e(n).triggerHandler(o+".loaded",[r,r.$,a]),f.complete&&f.complete(i,l),s&&s())}}))}else{var h=e.calValue(a.content,r,a),g=a.source;g&&"object"!=typeof h&&(g=e(e.calValue(g,r,a)),g=g.parent().length?g.clone():g,h=h?g.html(h):g),l(h),s&&s()}i&&i(u)},f.prototype._getOptions=function(t){var a=this,n=e.extend({},a.options,t),i=n.display;return i&&f.plugs[i]&&(n=e.calValue(f.plugs[i],a,n)),n.$target||(n.$target=a._getTarget(n)),n},f.prototype.show=function(t,d){e.isFunction(t)&&(d=t,t=null);var p=this,h=p._getOptions(t);p.last=h;var g=h.$target,v=h.activeClass,b=h.animate,y=h.element,C=h.placement,w=h.layer,$="",x="",k=h.name,_=h.arrow,T=h.backdrop,D=e(y);if(g.attr("class","invisible "+g.data(r)+" "+(h.targetClass||"")).removeClass(l),e.callEvent("show",h.show,p,p.$,h)===!1)return g.attr("class",r),h.layer&&h.layer.remove(),d&&d();if(h.showSingle&&(h.showSingle===!0?g.parent().children():e(h.showSingle)).not(g).removeClass(h.showInClass).addClass(l),w&&w.removeClass(l),T){var S="backdrop-"+k;e("#"+S).remove();var L=h.$backdrop=e('<div class="display-backdrop"/>').attr({id:S,type:h.display,"data-display-name":k}).appendTo(c).css("zIndex",i++);T===!0&&(T="fade"),e.isStr(T)&&L.addClass(T),e(c).addClass("display-show-"+h.name),setTimeout(function(){L.addClass("in")},10),h.backdropDismiss&&L.attr("data-dismiss",o);
}"none"!==h.targetZIndex&&(w||g).css("zIndex",h.targetZIndex||i++),v&&y&&(h.activeSingle&&D.parent().children().removeClass(v),D.addClass(v)),p.update(g,h,function(t){if(h.scrollTop&&e(h.container).scrollTop(0),C=e.calValue(C,p,h)){e.isStr(C)&&"{"==C[0]&&(C=e.parseJSON(C));e("body");if(e.isPlainObject(C))g.css(C);else if("overlay"===C){var i=D[0].getBoundingClientRect();g.css({position:"absolute",left:i.left,top:i.top,width:i.width,height:i.height})}else if(0===C.indexOf("beside")){g.css({position:"fixed"}),C=C.split("-");var r,l,c=e(a),f=C[1]||"auto",v=C[2]||"center",i=(D.offset(),D[0].getBoundingClientRect()),y=g.width(),k=g.height(),T=c.width(),S=c.height(),L="start"===v,j="end"===v,I=i.top,E=i.left,R=i.width,A=i.height;"auto"===f&&(f=I+A+k<=S?"bottom":k<=I?"top":E+R+y<=T?"right":y<=E?"left":"bottom");var M=L?E:j?E+R:E+R/2-y/2,F=L?I:j?I+A:I+A/2-k/2;"bottom"===f?(r=I+A,l=M):"top"===f?(r=I-k,l=M):"right"===f?(r=F,l=E+R):(r=F,l=E-y),g.css({top:Math.max(0,Math.min(r,S-k)),left:Math.max(0,Math.min(l,T-y))}),x=m[f],$="fade scale-from-"+x}else{C=C.split("-");var U=C[0],P=C[1],H={};"top"!=U&&"bottom"!=U&&"left"!=U&&"right"!=U||(H.justifyContent="flex-"+("top"===U||"left"==U?"start":"end"),H.flexDirection="top"==U||"bottom"==U?"column":"row",H.alignItems=P?"center"==P?"center":"left"==P?"flex-start":"flex-end":"stretch"),w&&w.css(H),$=U,x=m[$],$="from-"+$}}if(_){var V="display-arrow arrow-"+x;e.isStr(_)&&(V+=" "+_),g.addClass(V)}var N=function(){g.removeClass("invisible"),t||g.addClass(h.showInClass),d&&d();var a=h.autoHide;a&&(p.animateCall=setTimeout(function(){p.hide()},e.isNum(a)?a:5e3)),p.animateCall=setTimeout(function(){e.callEvent("shown",h.shown,p,p.$,h),e(n).triggerHandler(o+".shown",[p,p.$,h])},h.duration+50),h.targetDismiss&&g.one((h.targetDismiss===!0?s:h.targetDismiss)+u,function(){p.hide()})};b?(b===!0?g.addClass($?"enter-"+$:"fade"):e.isStr(b)?g.addClass(b.replace("suggest",$)):e.isNum(b)&&(h.duration=b),clearTimeout(p.animateCall),p.animateCall=setTimeout(N,10)):N()},function(){e.callEvent("displayed",h.displayed,p,p.$,h),e(n).triggerHandler(o+".displayed",[p,p.$,h]),h.plugSkin&&g.find("[data-skin]").skin(),h.plugDisplay&&g.find("[data-"+o+"]").display(),e.fn.listenScroll&&g.find(".listen-scroll").listenScroll()}),f.last=k,f.all[k]=p,e(".btn-modal-close").length>0&&e(".btn-modal-close").click(function(){p.hide()}),"modal"===h.display&&"#directory"!=h.target&&stopTouch()},f.prototype.hide=function(t,a){e.isFunction(t)&&(a=t,t=null);var i=this,s=i.last||i._getOptions(t);if(e.callEvent("hide",s.hide,i,i.$,s)===!1)return a&&a();i.last=!1;var r=s.$target.off(u),d=e("#backdrop-"+s.name),p=function(){s.layer&&s.layer.addClass(l),e.callEvent(l,s[l],i,i.$,s),e(n).triggerHandler(o+"."+l,[i,i.$,s]),r.addClass(l),d.remove(),e(c).removeClass(o+"-show-"+s.name),s.layer&&s.layer.remove()};s.activeClass&&s.element&&e(s.element).removeClass(s.activeClass),r.removeClass(s.showInClass),d.removeClass("in"),s.animate?(clearTimeout(i.animateCall),i.animateCall=setTimeout(p,s.duration+50)):p(),"modal"===s.display&&startTouch()},f.prototype.isShow=function(t){return t=this._getOptions(t),t.checkShow?e.calValue(t.checkShow,this,t):t.$target?t.$target.hasClass(t.showInClass):t.last},f.prototype.toggle=function(t,a){var n;t===!0||t===!1?(n=t,t=e.isPlainObject(a)?a:null,t&&(a=null)):n=this.isShow(t),this[n?"hide":"show"](t,a)},f.NAME=p,f.DEFAULT={trigger:s,triggerMethod:"show",container:c,plugSkin:!0,plugDisplay:!0,content:!1,loadingClass:d,showInClass:"in",animate:!0,duration:300,keyboard:!0,backdropDismiss:!0,activeSingle:!0},f.plugs=function(t,a,n){if(e.isPlainObject(t))e.each(t,f.plugs);else{if(!a)return f.plugs[t];f.plugs[t]=a,t=0===t.indexOf("_")?t.substr(1):t,e.fn[t]||n===!1||e.bindFn(n||t,f,{display:t})}},f.all={},f.dismiss=function(t,a){e.isFunction(t)&&(a=t,t=""),t=t||f.last;var n=f.all[t];n&&n.hide(a)},e.bindFn(o,f),e.Display=f,e(function(){e("[data-"+o+"]").display(),e(n).on(s,'[data-dismiss="'+o+'"]',function(){var t=e(this),a="data-"+o+"-name";name=t.attr(a),name&&"null"!=name&&"undefined"!=name||(name=t.closest("."+o).attr(a)),f.dismiss(name)})})}(CoreLib,void 0,window,document),!function(e,t){"use strict";if(!e.Display)return void console.error("display.plugs.js requires display.js");var a=function(t,a,n,i,s){var o=e(a).next("."+t);return o.length||(o=n),o||'<div class="'+(s||t)+" "+(i||"")+'"/>'},n=function(e,a){return e===t?a:e};e.Display.plugs({dropdown:function(t){var i=t.source;return e.extend(t,{backdrop:n(t.backdrop,"clean"),source:t.target?null:function(){return a("dropdown-menu",t.element,i)},target:n(t.target,"!new"),placement:n(t.placement,"beside"),activeClass:n(t.activeClass,"open"),targetDismiss:n(t.targetDismiss,!0)})},popover:function(t){var i=t.source;return e.extend(t,{arrow:n(t.arrow,!0),backdrop:n(t.backdrop,"clean"),source:t.target?null:function(){return a("popover",t.element,i,"canvas with-padding")},target:n(t.target,"!new"),placement:n(t.placement,"beside"),activeClass:n(t.activeClass,"open")})},messager:function(a){return e.extend(a,{autoHide:n(a.autoHide,!0),animate:a.animate===t||a.animate===!0?"scale-suggest fade":a.animate,closeButton:n(a.closeButton,!0),template:function(t,a){var n=e(a.source||'<div class="messager list-item"/>');return a.icon&&n.append('<div class="avatar"><i class="icon icon-'+a.icon+'"/></div>'),n.append('<div class="title">'+t+"</div>"),a.closeButton&&n.append('<button class="btn muted" type="button" data-dismiss="display"><i class="icon icon-remove"></i></button>'),n.addClass(a.type||"gray")},target:"!new",placement:n(a.placement,"bottom-center"),activeClass:n(a.activeClass,"open")})},modal:function(t){var i=t.source;return e.extend(t,{backdrop:n(t.backdrop,"modal-backdrop fade"),source:t.target?null:function(){return a("modal",t.element,i,"","content")},target:n(t.target,"!new"),targetClass:"modal "+(t.targetClass||""),placement:n(t.placement,"tap"===e.TapName?"bottom":"center"),activeClass:n(t.activeClass,"open")})},_collapse:function(t){return e.extend(t,{triggerMethod:"toggle",animate:!1,showInClass:"in",activeClass:"collapse-open",showSingle:n(t.group||t.showSingle,!!t.selector&&"collapse-group-"+ ++e.uuid)})}}),e.Display.plugs("_self",function(t){return e.extend(t,{trigger:!1,target:"!self",targetZIndex:"none",displayAuto:n(t.displayAuto,!0)})},"displaySelf");var i=new e.Display({display:"messager"});i._show=i.show,i.show=function(t,a){i._show(e.extend({content:t},a))},e.each({primary:0,success:"ok-sign",info:"info-sign",warning:"warning-sign",danger:"exclamation-sign",important:0,special:0},function(t,a){i[t]=function(n,s){i._show(e.extend({content:n,icon:a||null,type:t},s))}}),e.messager=i}(CoreLib,void 0),!function(e){"use strict";var t="mzui.scrollListener",a=function(n,i){var s=this;s.options=i=e.extend({},a.DEFAULT,n.data(),i),s.$=n,s.$container=i.container?"parent"==i.container?s.$.parent():e(i.container):s.$,s.lastScrollTop=0,s.lastCallTime=0;var o=0;if(n.on("scroll."+t,function(){clearTimeout(o);var e=(new Date).getTime();o=setTimeout(function(){s.onScroll(),s.lastCallTime=e},e-s.lastCallTime>i.handleInterval?0:i.handleInterval)}),i.canScrollClass){var r=(s.$[0]===window?e("body"):s.$)[0].scrollHeight;s.$container.toggleClass(i.canScrollClass,r>s.$.height())}};a.prototype.onScroll=function(){var e=this,t=e.options,a=e.$.scrollTop(),n=a>0,i=a>e.lastScrollTop?"down":"up",s=t.directionClass;e.$container.toggleClass(t.inScrollClass,n).toggleClass(s+"-down","down"===i).toggleClass(s+"-up","up"===i).toggleClass(s+"-over",a+e.$.height()>=e.$[0].scrollHeight),e.$container.callEvent(e,"listenScroll",[n,i,a]),e.isInScroll=n,e.scrollDirection=i,e.lastScrollTop=a},a.NAME=t,a.DEFAULT={minDelta:20,handleInterval:100,inScrollClass:"in-scroll",directionClass:"scroll",canScrollClass:"can-scroll"},e.bindFn("listenScroll",a),e(function(){e(window).listenScroll({container:"body"}),e(".listen-scroll").listenScroll()})}(CoreLib),!function(e,t,a){"use strict";function n(e){if(e=e.toLowerCase(),e&&d.test(e)){var t;if(4===e.length){var a="#";for(t=1;t<4;t+=1)a+=e.slice(t,t+1).concat(e.slice(t,t+1));e=a}var n=[];for(t=1;t<7;t+=2)n.push(v("0x"+e.slice(t,t+2)));return{r:n[0],g:n[1],b:n[2],a:1}}throw new Error("Wrong hex string! (hex: "+e+")")}function i(t){return typeof t===m&&("transparent"===t.toLowerCase()||d.test(e.trim(t.toLowerCase())))}function s(e){function t(e){return e=e<0?e+1:e>1?e-1:e,6*e<1?r+(o-r)*e*6:2*e<1?o:3*e<2?r+(o-r)*(2/3-e)*6:r}var a=e.h,n=e.s,i=e.l,s=e.a;a=l(a)%u/u,n=b(n),i=b(i),s=b(s);var o=i<=.5?i*(n+1):i+n-i*n,r=2*i-o,d={r:t(a+1/3)*c,g:t(a)*c,b:t(a-1/3)*c,a:s};return d}function o(e,a,n){return h(n)&&(n=0),h(a)&&(a=c),t.min(t.max(e,n),a)}function r(e,t){return o(e,t)}function l(e){return"number"==typeof e?e:parseFloat(e)}var d=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,c=255,u=360,p=100,m="string",f="object",h=function(e){return e===a},g=function(e){return!h(e)},v=function(e){return parseInt(e)},b=function(e,t){return r(l(e),t)},y=function(e){return v(b(e,c))},C=function(e,t,a,i){var o=this;if(o.r=o.g=o.b=0,o.a=1,g(i)&&(o.a=b(i,1)),g(e)&&g(t)&&g(a))o.r=y(e),o.g=y(t),o.b=y(a);else if(g(e)){var r=typeof e;if(r==m)e=e.toLowerCase(),"transparent"===e?o.a=0:o.rgb(n(e));else if("number"==r&&h(t))o.r=o.g=o.b=y(e);else if(r==f&&g(e.r))o.r=y(e.r),g(e.g)&&(o.g=y(e.g)),g(e.b)&&(o.b=y(e.b)),g(e.a)&&(o.a=b(e.a,1));else if(r==f&&g(e.h)){var l={h:b(e.h,u),s:1,l:1,a:1};g(e.s)&&(l.s=b(e.s,1)),g(e.l)&&(l.l=b(e.l,1)),g(e.a)&&(l.a=b(e.a,1)),o.rgb(s(l))}}};C.prototype.rgb=function(e){var t=this;if(g(e)){if(typeof e==f)g(e.r)&&(t.r=y(e.r)),g(e.g)&&(t.g=y(e.g)),g(e.b)&&(t.b=y(e.b)),g(e.a)&&(t.a=b(e.a,1));else{var a=v(l(e));t.r=a,t.g=a,t.b=a}return t}return{r:t.r,g:t.g,b:t.b,a:t.a}},C.prototype.hue=function(e){var t=this,a=t.toHsl();return h(e)?a.h:(a.h=b(e,u),t.rgb(s(a)),t)},C.prototype.darken=function(e){var t=this,a=t.toHsl();return a.l-=e/p,a.l=r(a.l,1),t.rgb(s(a)),t},C.prototype.clone=function(){var e=this;return new C(e.r,e.g,e.b,e.a)},C.prototype.lighten=function(e){return this.darken(-e)},C.prototype.fade=function(e){return this.a=r(e/p,1),this},C.prototype.toHsl=function(){var e,a,n=this,i=n.r/c,s=n.g/c,o=n.b/c,r=n.a,l=t.max(i,s,o),d=t.min(i,s,o),p=(l+d)/2,m=l-d;if(l===d)e=a=0;else{switch(a=p>.5?m/(2-l-d):m/(l+d),l){case i:e=(s-o)/m+(s<o?6:0);break;case s:e=(o-i)/m+2;break;case o:e=(i-s)/m+4}e/=6}return{h:e*u,s:a,l:p,a:r}},C.prototype.luma=function(){var e=this.r/c,a=this.g/c,n=this.b/c;return e=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),a=a<=.03928?a/12.92:t.pow((a+.055)/1.055,2.4),n=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4),.2126*e+.7152*a+.0722*n},C.prototype.saturate=function(e){var t=this.toHsl();return t.s+=e/p,t.s=r(t.s),this.rgb(s(t))},C.prototype.contrast=function(e,t,a){if(t=h(t)?new C(c,c,c,1):new C(t),e=h(e)?new C(0,0,0,1):new C(e),e.luma()>t.luma()){var n=t;t=e,e=n}return this.a<.5?e:(a=h(a)?.43:l(a),this.luma()<a?t:e)},C.prototype.hexStr=function(){var e=function(e){return e=e.toString(16),1==e.length?"0"+e:e};return"#"+e(this.r)+e(this.g)+e(this.b)},C.prototype.toCssStr=function(){var e=this;return e.a>0?e.a<1?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":e.hexStr():"transparent"},C.isColor=i,e.Color=C}(CoreLib,Math,void 0),function(e,t,a){"use strict";var n="mzui.skin",i={},s=function(t,a){var n=this;n.options=a=e.extend({},s.DEFAULT,t.data(),a),n.$=t,n.paint()};s.prototype.paint=function(n){var s,o,r=this,l=r.options,d=r.$,c=r.$.hasClass("pale")||l.pale,u=l.outline||d.hasClass("outline"),p=l.tint||d.hasClass("text-tint");if(n=n===t?l.skin:n,c===t&&(r.$.hasClass("dark")||l.dark)&&(c=!1),e.isStr(n)&&n.indexOf(":")>0){n=n.split(":"),o=n[0],n=n[1];var m=parseInt(n);NaN!==m&&(n=m)}if(""===n||n===t||"random"===n)n=a.round(360*a.random());else if(i[n])n=i[n];else if(e.isStr(n)&&0===n.indexOf("random"))i[n]=n=a.round(360*a.random());else if(e.isStr(n)&&0===n.indexOf("@")){for(var f=0,h=n.length-1;h>0;--h)f+=a.pow(3,h-1)*n.charCodeAt(h);n=f}o&&(i[o]=n),s="number"==typeof n?new e.Color({h:n*l.hueSpace%360,s:l.saturation,l:l.lightness}):new e.Color(n),r.color=s,s.luma()<l.threshold?c&&(r.darkColor=s,r.color=new e.Color(e.extend(s.toHsl(),{l:l.paleLight}))):c===!1?(r.paleColor=s,r.color=new e.Color(e.extend(s.toHsl(),{l:l.darkLight}))):(c=!0,p&&(r.darkColor=new e.Color(e.extend(s.toHsl(),{l:l.darkLight}))));var g=r.color.toCssStr(),v={backgroundColor:u?"transparent":g,borderColor:g,color:u?g:c?p?r.darkColor.toCssStr():"":"#fff"};r.$.callEvent(r,"paint",v)!==!1&&d.css(v)},s.NAME=n,s.DEFAULT={skin:"random",hueSpace:47,saturation:.7,lightness:.6,threshold:.5,darkLight:.4,paleLight:.92},s.all=i,s.set=function(t,a){e.isPlainObject(t)?e.extend(s.all,t,a):s.all[t]=a,e("[data-skin]").skin("paint")},e.bindFn("skin",s),e.Skin=s,e(function(){e("[data-skin]").skin()})}(CoreLib,void 0,Math),!function(e,t,a){"use strict";var n="mzui.ajaxform",i=function(i,s){if(i.length&&!i.data(n)){i.data(n,1);var o=function(t,a){var n,o=e.Event(t);return e.isArray(a)||(a=[a]),i.trigger(o,a),n=o.result,s&&e.isFunction(s[t])&&(n=s[t].apply(i,a)),n},r=function(t){var a=i.find(".form-message");if(a.length){var n=a.find(".content");(n.length?n:a).html(t),a.show()}else e.messager.warning(t,{time:1e4})};i.on("submit",function(n){n.preventDefault();var l=i[0],d={};e.each(i.serializeArray(),function(t,n){var i=n.name,s=n.value,o=d[i];if(s instanceof FileList){for(var r=[],l=s.length-1;l>=0;--l)r.push(s[l]);s=r}e.isArray(s)?o===a?o=s:e.isArray(o)?o.push.apply(o,s):(s.push(o),o=s):i.lastIndexOf("]")===i.length-1?o===a?o=[s]:o.push(s):o=s,d[i]=o});var c=o("onSubmit",d);if(c!==!1){c!==a&&(d=c),s.dataConverter&&(d=s.dataConverter(d));var u=new FormData;for(var p in d){var m=d[p];if(e.isArray(m))for(var f=m.length-1;f>=0;--f)u.append(p,m[f]);else u.append(p,m)}var h=i.find('[type="submit"]').attr("disabled","disabled").addClass("disabled loading");e.ajax({url:s.url||l.action,type:s.type||l.method,processData:!1,contentType:!1,dataType:s.dataType||i.data("type")||"json",data:u,success:function(t,n){var s=o("onResponse",[t,n]);if(s!==!1){s!==a&&(t=s);try{if("string"==typeof t&&(t=e.parseJSON(t)),o("onSuccess",t)!==!1)if(1===t.code)t.message?(e.messager.success(t.message),t.locate&&setTimeout(function(){location.href=t.locate},1200)):t.locate&&(location.href=t.locate);else{var l=t.message||t.reason||t.error;l&&(e.isPlainObject(l)?e.each(l,function(t,a){e.isArray(a)&&a.length&&(a=a.length>1?"<ul><li>"+a.join("</li><li>")+"</li></ul>":a[0]);var n=i.find("#"+t+', [name="'+t+'"]').closest(".control");if(n.length){var s=n.find(".help-text");s.length?s.html(a):n.append('<div class="help-text">'+a+"</div>"),n.addClass("has-error")}else r(a)}):r(l))}}catch(d){o("onError",["Error response."])!==!1&&r(t||"No response.")}o("onResult",t)}},error:function(a,n,i){o("onError",[i,n,a])!==!1&&(r("error: "+i),t.v&&t.v.lang.timeout&&e.messager.danger(t.v.lang.timeout))},complete:function(e,t){h.attr("disabled",null).removeClass("disabled loading"),o("onComplete",{xhr:e,status:t})}})}}).on("change",function(t){i.find(".form-message").hide(),e(t.target).closest(".control").removeClass("has-error")}),o("init")}};e.ajaxForm=i,e.fn.ajaxform=function(t){return e(this).each(function(){var a=e(this);i(a,e.extend(a.data(),t))})},e(function(){e(".ajaxform").ajaxform()})}(CoreLib,window,void 0);